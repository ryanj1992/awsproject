{
  "version": 4,
  "terraform_version": "0.14.5",
  "serial": 10,
  "lineage": "0fa3c664-5ac6-66cf-1565-8f59d220e068",
  "outputs": {},
  "resources": [
    {
      "module": "module.athena",
      "mode": "managed",
      "type": "aws_athena_database",
      "name": "alb_logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "us-east-1-nginx-hello-world-alb-logs",
            "encryption_configuration": [],
            "force_destroy": false,
            "id": "alb_access_logs",
            "name": "alb_access_logs"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.athena",
      "mode": "managed",
      "type": "aws_athena_named_query",
      "name": "create_table",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "database": "alb_access_logs",
            "description": "",
            "id": "3daed778-906f-4a13-90e6-2305cc0cf9a9",
            "name": "alb_logs",
            "query": "  CREATE EXTERNAL TABLE IF NOT EXISTS alb_logs (\n            type string,\n            time string,\n            elb string,\n            client_ip string,\n            client_port int,\n            target_ip string,\n            target_port int,\n            request_processing_time double,\n            target_processing_time double,\n            response_processing_time double,\n            elb_status_code string,\n            target_status_code string,\n            received_bytes bigint,\n            sent_bytes bigint,\n            request_verb string,\n            request_url string,\n            request_proto string,\n            user_agent string,\n            ssl_cipher string,\n            ssl_protocol string,\n            target_group_arn string,\n            trace_id string,\n            domain_name string,\n            chosen_cert_arn string,\n            matched_rule_priority string,\n            request_creation_time string,\n            actions_executed string,\n            redirect_url string,\n            lambda_error_reason string,\n            target_port_list string,\n            target_status_code_list string,\n            classification string,\n            classification_reason string\n            )\n            ROW FORMAT SERDE 'org.apache.hadoop.hive.serde2.RegexSerDe'\n            WITH SERDEPROPERTIES (\n            'serialization.format' = '1',\n            'input.regex' = \n        '([^ ]*) ([^ ]*) ([^ ]*) ([^ ]*):([0-9]*) ([^ ]*)[:-]([0-9]*) ([-.0-9]*) ([-.0-9]*) ([-.0-9]*) (|[-0-9]*) (-|[-0-9]*) ([-0-9]*) ([-0-9]*) \\\"([^ ]*) ([^ ]*) (- |[^ ]*)\\\" \\\"([^\\\"]*)\\\" ([A-Z0-9-]+) ([A-Za-z0-9.-]*) ([^ ]*) \\\"([^\\\"]*)\\\" \\\"([^\\\"]*)\\\" \\\"([^\\\"]*)\\\" ([-.0-9]*) ([^ ]*) \\\"([^\\\"]*)\\\" \\\"([^\\\"]*)\\\" \\\"([^ ]*)\\\" \\\"([^\\s]+?)\\\" \\\"([^\\s]+)\\\" \\\"([^ ]*)\\\" \\\"([^ ]*)\\\"')\n            LOCATION 's3://us-east-1-nginx-hello-world-alb-logs/AWSLogs/703330132666/elasticloadbalancing/us-east-1/';\n",
            "workgroup": "test"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.athena.aws_athena_database.alb_logs",
            "module.athena.aws_athena_workgroup.alb_logs"
          ]
        }
      ]
    },
    {
      "module": "module.athena",
      "mode": "managed",
      "type": "aws_athena_workgroup",
      "name": "alb_logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:athena:us-east-1:703330132666:workgroup/test",
            "configuration": [
              {
                "bytes_scanned_cutoff_per_query": 0,
                "enforce_workgroup_configuration": true,
                "publish_cloudwatch_metrics_enabled": true,
                "result_configuration": [
                  {
                    "encryption_configuration": [],
                    "output_location": "s3://nginx-hello-world-alb-logs-us-east-1/AWSLogs/"
                  }
                ]
              }
            ],
            "description": "",
            "force_destroy": false,
            "id": "test",
            "name": "test",
            "state": "ENABLED",
            "tags": null
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ]
}
